angular.module("app").controller("MainController",["$scope","$http",function(e,t){var n=this,i="http://in-info-web4.informatics.iupui.edu/~roheard/menu-ordering/connect.php";t.get(i).success(function(e){n.menu=e}),n.orders=[{id:0,title:"Select",key:"type",reverse:!1},{id:1,title:"Favorite",key:"favorite",reverse:!0},{id:2,title:"Title Ascending",key:"title",reverse:!1},{id:3,title:"Title Descending",key:"title",reverse:!0}],n.order=n.orders[0],n.title="Menu",n.searchInput="",n.ordered=[],n.Total=0,n.checkAmount=function(){return n.ordered.length>1?(console.log("not empty"),!0):(console.log("empty"),!1)},n.remove=function(e){var t=n.ordered.indexOf(e);n.ordered.splice(t,1),e.quantity="0",0===n.ordered.length&&$(".modal").removeClass("modal-visible")},n.addToOrder=function(e){n.ordered.indexOf(e)>-1||(n.ordered.push(e),console.log(n.ordered))},n.toggle=!1}]).directive("stringToNumber",function(){return{require:"ngModel",link:function(e,t,n,i){i.$parsers.push(function(e){return""+e}),i.$formatters.push(function(e){return parseFloat(e,10)})}}}).filter("totalSumPriceQty",function(){return function(e,t,n){if(angular.isUndefined(e)&&angular.isUndefined(t)&&angular.isUndefined(n))return 0;var i=0;return angular.forEach(e,function(e,r){i+=parseInt(e[t])*parseInt(e[n])}),i}}).filter("sumOfValue",function(){return function(e,t){if(angular.isUndefined(e)&&angular.isUndefined(t))return 0;var n=0;return angular.forEach(e,function(e,i){n+=parseInt(e[t])}),n}}),$(document).ready(function(){$(".checkout-init").click(function(){document.body.scrollTop=document.documentElement.scrollTop=0,$(".checkout-view").addClass("is-visible"),$("body").addClass("no-scroll"),$(".modal").remove()}),$(".modal-trigger").click(function(e){var t=$(document).height();e.preventDefault(),$(".modal").toggleClass("modal-visible"),$(".modal").fadeIn(),$(".modal-state").prop("checked",!0)&&$(".modal").css("height",t);var n,i;n=Math.max($(window).height()-$(".modal-wrap").outerHeight(),0)/2,i=Math.max($(window).width()-$(".modal-wrap").outerWidth(),0)/2,$(".modal-wrap").css({top:n+$(window).scrollTop(),left:i+$(window).scrollLeft()})}),$(".close").on("click",function(){$(".modal").toggleClass("modal-visible")}),equalheight=function(e){var t=0,n=0,i=new Array,r,o=0;$(e).each(function(){if(r=$(this),$(r).height("auto"),topPostion=r.position().top,n!=topPostion){for(currentDiv=0;currentDiv<i.length;currentDiv++)i[currentDiv].height(t);i.length=0,n=topPostion,t=r.height(),i.push(r)}else i.push(r),t=t<r.height()?r.height():t;for(currentDiv=0;currentDiv<i.length;currentDiv++)i[currentDiv].height(t)})},$(window).on("load resize",function(){setTimeout(function(){equalheight(".container .single-item"),$(".details").each(function(){var e=$(this).parent().outerHeight(!0);$(this).css("min-height",e)})},0)}),$("select").change(function(){setTimeout(function(){equalheight(".container .single-item"),$(".details").each(function(){var e=$(this).parent().outerHeight(!0);$(this).css("min-height",e)})},200)})});